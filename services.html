<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Services - Expense Tracker</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      background: #ffffff;
      color: #333;
    }
    header {
      background: #2c3e50;
      color: white;
      padding: 20px;
      text-align: center;
    }
nav {
  background: #34495e;
  padding: 1px 20px;
  display: flex;
  justify-content: space-evenly;
  align-items: center;
}

    .services {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      padding: 40px;
    }
    .card {
      background: white;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      margin: 20px;
      padding: 20px;
      width: 280px;
      transition: transform 0.3s;
    }
    .card:hover { transform: translateY(-5px); }
    footer {
      background: #2c3e50;
      color: white;
      text-align: center;
      padding: 15px;
      position: fixed;
      bottom: 0;
      width: 100%;
    }
  </style>
</head>

<body>

<header>
  <h1 >Expense Tracker</h1>
  <p>Manage your budget smartly</p>
</header>

<nav id="navbar">
  <div style="
    width: fit-content;
    margin-left: auto;
  ">
    <button class="nav_button" id="homeBtn">Home</button>
    <button class="nav_button" id="servicesBtn">Services</button>
    <button class="nav_button" id="aboutBtn">About Us</button>
    <button class="nav_button" id="signupBtn">Sign-up</button>
    <button class="nav_button" id="signinBtn">Sign-in</button>

</div>
</nav>

<h1 style="text-align:center; margin: 20px;">Our Services</h1>

<div class="services">
  <div class="card"><h2>Track Expenses</h2><p>Monitor your daily spending effortlessly.</p></div>
  <div class="card"><h2>Budget Planner</h2><p>Create and manage custom budgets.</p></div>
  <div class="card"><h2>Group Expenses</h2><p>Split bills easily with friends or family.</p></div>
  <div class="card"><h2>Reports</h2><p>See charts and insights for better decisions.</p></div>
</div>

<footer>
    <p style="color: white;"> Expense Tracker | Built with trust for better money management</p>
  </footer>
   <script>
    // Navigation click handlers
    document.getElementById("homeBtn").onclick = () => {
      window.location.href = "homepage.html";
    };

    document.getElementById("servicesBtn").onclick = () => {
      window.location.href = "services.html";
    };

    document.getElementById("aboutBtn").onclick = () => {
      window.location.href = "about.html";
    };
    document.getElementById("signupBtn").onclick = () =>
    window.location.href = "signup.html";

  document.getElementById("signinBtn").onclick = () =>
    window.location.href = "signin.html";
  </script>

 <script>
  // Check if user is logged in
  const loggedInUser = localStorage.getItem("loggedInUser");
   const nav = document.getElementById("a");
  // Create Sign-in and Sign-up buttons if logged out
  if (!loggedInUser) {

    // Create Buttons Dynamically
    const nav = document.querySelector("nav");

    let signup = document.createElement("button");
    signup.id = "signupBtn";
    signup.innerText = "Sign-Up";
    signup.onclick = () => window.location.href = "signup.html";

    let signin = document.createElement("button");
    signin.id = "signinBtn";
    signin.innerText = "Sign-In";
    signin.onclick = () => window.location.href = "signin.html";

    

  } else {
    // User logged in → show Dashboard + Sign Out
    const nav = document.querySelector("nav");

    let dashboard = document.createElement("button");
    dashboard.id  = "dashboardBtn";
    dashboard.classList.add("nav_button")
    dashboard.innerText = "Dashboard";
    dashboard.onclick = () => window.location.href = "dashboard.html";

    let signout = document.createElement("button");
    signout.id = "signOutBtn";
    signout.classList.add("nav_button")
    signout.innerText = "Sign Out";

    signout.onclick = () => {
      // Update user state to INACTIVE
      let users = JSON.parse(localStorage.getItem("users")) || [];

      users = users.map(user => {
        if (user.email === loggedInUser) {
          user.state = "inactive";
        }
        return user;
      });

      localStorage.setItem("users", JSON.stringify(users));
      localStorage.removeItem("loggedInUser");

      alert("Signed out successfully!");
      window.location.href = "signin.html";
    };


  }
</script>

<script>
document.addEventListener("DOMContentLoaded", () => {

  const loggedInUser = localStorage.getItem("loggedInUser");

  const signupBtn = document.getElementById("signupBtn");
  const signinBtn = document.getElementById("signinBtn");
  const navContainer = document.getElementById("a");

  // If user NOT logged in → show Sign-in & Sign-up
  if (!loggedInUser) {
    signupBtn.style.display = "inline-block";
    signinBtn.style.display = "inline-block";
    return; // stop here
  }

  // If user IS logged in:
  signupBtn.style.display = "none";
  signinBtn.style.display = "none";

  // ---- Dashboard Button ----
  const dashboardBtn = document.createElement("button");
  dashboardBtn.classList.add("nav_button");
  dashboardBtn.innerText = "Dashboard";
  dashboardBtn.onclick = () => window.location.href = "dashboard.html";
  navContainer.appendChild(dashboardBtn);

  // ---- Sign Out Button ----
  const signOutBtn = document.createElement("button");
  signOutBtn.classList.add("nav_button");
  signOutBtn.innerText = "Sign Out";a

  signOutBtn.onclick = () => {
    let users = JSON.parse(localStorage.getItem("users")) || [];

    users = users.map(user => {
      if (user.email === loggedInUser) user.state = "inactive";
      return user;
    });

    localStorage.setItem("users", JSON.stringify(users));
    localStorage.removeItem("loggedInUser");

    alert("Signed out successfully!");
    location.reload(); // show sign-in/sign-up again
  };

  navContainer.appendChild(signOutBtn);

});
</script>
</body>
</html>